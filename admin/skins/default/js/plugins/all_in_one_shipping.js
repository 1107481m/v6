$(document).ready(function(){function e(e){return e.replace(/(\[|\]|:|\.)/g,"\\$1")}$(".chzn-select").chosen();$("a.aios-remove-zone").on("click",function(){var e=$(this).attr("title");if(e!=""&&!confirm(e))return false;return true});$("span.aios-editable").each(function(){if($(this).html()=="")$(this).html("<em>null</em>")});$("span.aios-editable").each(function(){$(this).attr("title","Click to edit")}).on("click",function(){var e=$(this).html();if(e=="<em>null</em>")e="";var t=$(this).attr("name");var n=$(this).attr("class");var r=document.createElement("input");$(r).attr({type:"text",value:e}).addClass(n);$(r).attr("name",t);if($(this).hasClass("aios-number")){$(r).attr("size","7")}if($(this).hasClass("aios-text")){$(r).attr("size","25")}$(this).replaceWith(r)});$("input.aios-editable").on("change",function(){var e=$(this).parents("tr:first").find('input[name^="update_rates"]');$(e).val(1)});$("a.aios-edit").on("click",function(){var e=$(this).parents("tr:first").find("span.aios-editable");$(e).click();var e=$(this).parents("tr:first").find("input.aios-editable");$(e).data("original",$(e).val());return false});var t=5;$("tr.aios-add-rates-row").hide();$("a.aios-add").on("click",function(){var e=$(this).parents("tbody:first").find("tr:last");if($(e).is(":visible")){var n=$(e).html();for(var r=1;r<=t;r++){var i=n.replace(/\]\[(\d+)\]/g,function(e,t){new_index=parseInt(t,10)+r;return"]["+new_index+"]"});$(this).parents("tbody:first").append("<tr>"+i+"</tr>")}$(".list").find("tbody>tr:nth-child(even)").addClass("list-even");$(".list").find("tbody>tr:nth-child(odd)").addClass("list-odd")}else{$(this).parents("tbody:first").find("tr.aios-add-rates-row").show()}return false});$("a.aios-remove").on("click",function(){var t=$(this).attr("rel");var n=$("input[name="+e(t)+"]");$(n).val(1);var n=$(this).parents("tr:first");$(n).addClass("show-removed");var n=$(this).parents("td").children("a.aios-undo-remove");$(n).show();$(this).hide();return false});$("a.aios-undo-remove").on("click",function(){var t=$(this).attr("rel");var n=$("input[name="+e(t)+"]");$(n).val(0);var n=$(this).parents("tr:first");$(n).removeClass("show-removed");var n=$(this).parents("td").children("a.aios-remove");$(n).show();$(this).hide();return false});$("a.aios-undo-remove").hide();$("input.max-weight").on("change",function(){var e=$(this).parents("tr:first").next().find("input.min-weight");if(e){$(e).val($(this).val());$(e).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500)}});$("input.max-value").on("change",function(){var e=$(this).parents("tr:first").next().find("input.min-value");if(e){$(e).val($(this).val());$(e).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500)}});$("input.max-items").on("change",function(){var e=$(this).parents("tr:first").next().find("input.min-items");if(e){$(e).val(parseInt($(this).val())+1);$(e).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500)}})})