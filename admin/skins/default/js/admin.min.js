function updateStriping(b){$(".list-even,.list-odd").removeClass("list-even list-odd");$(".list,.reorder-list").find(">div,tbody>tr").hover(function(){$(this).addClass("list-hover")},function(){$(this).removeClass("list-hover")});$(".list,.reorder-list").find(">div:nth-child(even),tbody>tr:nth-child(even)").addClass("list-even");$(".list,.reorder-list").find(">div:nth-child(odd),tbody>tr:nth-child(odd)").addClass("list-odd")}function pageChanged(h){var f=$(h).parents("form:first");if(f.length==1){if(f.attr("title")!==undefined){var g=f.attr("title");var e=g.length>1?g:""}if(!f.hasClass("no-change")){window.onbeforeunload=function(){return e}}}}function removeVariableFromURL(h,f){var g=String(h);var e=new RegExp("\\?"+f+"=[^&]*&?","gi");g=g.replace(e,"?");e=new RegExp("\\&"+f+"=[^&]*&?","gi");g=g.replace(e,"&");g=g.replace(/(\?|&)$/,"");e=null;return g}function updateAddressValues(d,e,f){if(e=="country"){$("#"+d+"_"+e+" option").filter(function(){return $(this).html()==f[e]}).first().attr("selected","selected");$("#"+d+"_"+e).trigger("change");if($("#"+d+"_state").get(0).tagName=="INPUT"){$("#"+d+"_state").val(f.state)}else{$("#"+d+"_state option").filter(function(){return $(this).html()==f.state}).attr("selected","selected")}}else{if(e!="state"){$("#"+d+"_"+e).val(f[e])}}}function inlineRemove(n){var e=$(n).attr("title");var l=$(n).attr("rel");var o=$(n).attr("href");var k=$(n).attr("name");if(e!=""&&!confirm(e)){return false}if(l&&!$(n).hasClass("dynamic")){var p=document.createElement("input");$(p).attr({type:"hidden",name:k+"[]"}).val(l);$(n).parents("form:first").append(p)}else{pageChanged(n)}var m=$(n).parents("tr:first,div:first:not(.tab_content)").get(0);$(m).remove();updateStriping();return false}function optionAdd(e,t){var t=$("#"+t);var e=$("#"+e);var n=$("#opt_mid :selected").parent().attr("label");var r=$("#opt_mid :selected").text();var s=typeof n==("undefined"||"")?r:"<strong>"+n+"</strong>: "+r;var o=$("#opt_mid").val();if(o!=""&&o!=0){var u=$(e).clone();$(u).find(".name").append(s).find("input:first").val(o).removeAttr("disabled");var a=$("input.data");for(i=0;i<a.length;i++){var f=$(a[i]).attr("rel");var l=$(a[i]).val()==(null||"")?"0":$(a[i]).val();var c=$(u).find("."+f).find("input:first");if(f=="matrix_include"){c.attr("name","option_add["+f+"]["+options_added+"]")}else{if(f=="set_enabled"){c.removeAttr("disabled");if(l==1){c.parent().addClass("selected");c.attr("checked","checked")}c.attr("name","option_add["+f+"]["+options_added+"]")}else{if(f=="negative"){c.removeAttr("disabled");if($(a[i]).is(":checked")){c.parent().addClass("selected");c.attr("checked","checked")}c.attr("name","option_add["+f+"]["+options_added+"]")}else{l=parseFloat(l,10).toFixed(2);$(u).find("."+f).append(l).find("input:first").val(parseFloat(l)).removeAttr("disabled")}}}$(a[i]).val("")}$(u).find("a.remove").on("click",function(){inlineRemove(this)});$(u).removeAttr("id");$("#opt_mid :selected").removeAttr("selected");$("#opt_mid:first-child").attr("selected","selected");$(t).append($(u));options_added++}return false}function ajaxSelected(h,f,g){var e=$("#val_admin_file").text();$("#result_"+f).val(h.id);switch(g.toLowerCase()){case"user":$.getJSON("./"+e,{_g:"xml",type:"address",q:h.id,"function":"search"},function(b){$("select.address-list>option.temporary").remove();for(var c=0;c<b.length;c++){var a=document.createElement("option");$(a).val(c);$(a).html(b[c].description);$(a).addClass("temporary");$(".address-list").append(a)}addresses=b});break;case"product":$("#add-price").val(h.data.price);$("#add-subtotal").html(($("#add-quantity").val()*h.data.price).toFixed(2));data=h.data;break}for(key in h.data){if(h.data[key]!=""){$("#ajax_"+key).val(h.data[key]).trigger("change")}}if($("#result_"+f).hasClass("clickSubmit")){$("#result_"+f).closest("form").submit()}}function ajaxSuggest(k,e,h){var l="./"+$("#val_admin_file").text();var g={_g:"xml",type:h,q:k,"function":"search"};$.get(l,g,function(b){var a=[];for(var c=0;c<b.length;c++){a.push({id:b[c].value,value:b[c].display,info:b[c].info,data:b[c].data})}e(a)},"json")}function ajaxNewsletter(d,e){var f=$("#val_admin_file").text();$.getJSON("./"+f,{_g:"xml",type:"newsletter",q:d,page:e,"function":"search"},function(a){$("div#progress_bar").css({width:a.percent+"%"});$("div#progress_bar_percent").text(Math.round(a.percent)+"%");if(a.percent==100||a.complete=="true"){window.onbeforeunload=null;window.location="?_g=customers&node=email"}else{ajaxNewsletter(d,e+1)}})}function updateOrderTotals(c){if(!c.hasClass("quantity")){c.val(($(this).val()*1).toFixed(2))}var t=c.parents(".update-subtotal:first");var n=$(t).find("input.quantity").val();var s=$(t).find("input.lineprice").val();var f=$(t).find("input.subtotal:first");var r=(n*s).toFixed(2);$(f).val(r);var o=0;$("input.subtotal").each(function(){var b=$(this).val()*1;o+=b});var u=$("#discount").val();u=u*1;var z=$("#discount_type").val();if(z=="p"){if(u>100){$("#discount").val("100");u=100}u=u/100*o;$("#discount_percent").html("%")
}else{$("#discount_percent").html("")}$("#subtotal").val(o.toFixed(2));var e=$("#shipping").val();var l=0;$(".update-subtotal input.tax").each(function(){var b=$(this).val();l+=b*1});var a=o*1-u+e*1+l*1;$("#total_tax").val(l.toFixed(2));$("#total").val(a.toFixed(2))}function productOptionPrices(h){var f=$("#"+h+"_price");var g=+f.attr("original");var e="";$("span[rel="+h+"] select").each(function(){option_price=$(this).find("option:selected").attr("rel");if(option_price){e=option_price.substr(0,1);value=+option_price.substr(1);if(value>0){if(e=="+"){g=+g+ +value}else{if(e=="-"){g=+g-+value}}}}});$("span[rel="+h+"] input, span[rel="+h+"] textarea").each(function(){var a=$(this).val();var b=$(this).attr("rel");if(a!=""){if(b){e=b.substr(0,1);value=+b.substr(1);if(value>0){if(e=="+"){g=+g+ +value}else{if(e=="-"){g=+g-+value}}}}}});f.val(g.toFixed(2));$(".update-subtotal input.number").trigger("change");return false}$(document).ready(function(){setTimeout(function(){window.scrollTo(0,0)},1);var n=false;jQuery.debug=function(a){if(window.console){console.debug("CubeCart: "+a)}else{alert(a)}};jQuery.fn.insertAtCaret=function(a){return this.each(function(){if(document.selection){this.focus();sel=document.selection.createRange();sel.text=a;this.focus()}else{if(this.selectionStart||this.selectionStart=="0"){var d=this.selectionStart;var b=this.selectionEnd;var c=this.scrollTop;this.value=this.value.substring(0,d)+a+this.value.substring(b,this.value.length);this.focus();this.selectionStart=d+a.length;this.selectionEnd=d+a.length;this.scrollTop=c}else{this.value+=a;this.focus()}}})};jQuery.fn.confirmPassword=function(a){var b=jQuery.extend({updateOn:"keyup"},a);this.bind(b.updateOn,function(){jQuery(this).removeClass("ps-match ps-nomatch error");if(jQuery(this).val()!=""){var c=jQuery(this).attr("rel");if(jQuery("#"+c).val()===jQuery(this).val()&&jQuery(this).val()!=""){jQuery(this).addClass("ps-match")}else{jQuery(this).addClass("ps-nomatch error")}}})};jQuery.fn.exists=function(){return jQuery(this).length!=0};if(top.location.href!=self.location.href){top.location=self.location.href}$("input:text,input:password,textarea").each(function(){var a=$(this).attr("title");if(typeof a!="undefined"&&a.length>=1){if($(this).val()==""){$(this).val(a)}$(this).focus(function(){if($(this).val()==a){$(this).val("")}}).blur(function(){if($(this).val()==""){$(this).val(a)}}).parents("form:first").submit(function(){$("input:text,input:password,textarea",this).each(function(){if($(this).val()==a){$(this).val("")}})})}});$(":input, :input:hidden").each(function(){if(!$(this).hasClass("original-fix")){$(this).attr("original",$(this).val())}}).change(function(){pageChanged(this)});$("input:submit.update").click(function(){$("select.required").removeClass("required")});$("select.update_form").change(function(){$("input.required").removeClass("required");$(this).parents("form").submit()});$("form").submit(function(){var c=true;n=false;if($("#inventory-list").exists()&&!$("input[name*=inv]").exists()){$(".inline-add:first").addClass("highlight");return false}$(".required-error").removeClass("required-error");$(":checkbox.ignore").each(function(){if($(this).not(":checked")){$(this).attr("disabled","disabled")}});var a=$("div.tab_content").exists()?$("div.tab_content:visible"):$(this);$(a).find(".required:input:not(:hidden)").each(function(){var g=$(this).val();var f=$(this).attr("original");if(g.replace(/\s/i,"")==""){var h=$(this).attr("id");$(this).addClass("required-error").change(function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error");$("#error_"+h+".error").hide("fast")}});$("#error_"+h+".error").show("fast");c=false}});$(".inline-add:input").each(function(){var f=$(this).hasClass("not-empty");if($(this).val()!=$(this).attr("original")){$(this).parents(".inline-add:first").addClass("highlight");c=false}});$(a).find("select.required:not(:hidden)").each(function(){if($(this).val()==0){var f=$(this).attr("id");$(this).addClass("required-error").change(function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error");$("#error_"+f+".error").hide("fast")}});$("#error_"+f+".error").show("fast");c=false}});if(c){window.onbeforeunload=null;return true}else{var b=$(".required-error:first");var d=b.position();$("html, body").animate({scrollTop:d.top-50},"slow")}n=true;return false});$(".check-all").click(function(b){if($(this).is("a")){b.preventDefault()}var c=$(this).attr("rel");var a=$("input[type=checkbox]."+c);a.prop("checked",!a.prop("checked"))});$("select.auto_submit").each(function(){if(!$(this).hasClass("show_submit")){$(this).parents("form:first").find("input:submit").hide()}}).change(function(){$(this).parents("form:first").submit()});$(".insert-text").on("click",function(){var a="#"+$(this).attr("target");var b=$(this).text();$(a).insertAtCaret(b);return false});$("img.autosubmit").each(function(){if($(this).hasClass("form-name")){var a=$(this).attr("rel");$("form#"+a).submit()
}else{$(this).parents("form").submit()}});$(".duplicate").click(function(){var a=$(this).attr("rel")});if(typeof gui_message_json!="undefined"&&typeof gui_message_json=="object"){for(var e in gui_message_json){$("#"+e).addClass("required-error").val("")}}$(":input.required").blur(function(){var a=$(this).attr("id");if($(this).val().replace(/\s/i,"")==""){$(this).addClass("required-error")}else{$(this).removeClass("required-error")}});$("select.certificate-delivery").change(function(){if($(this).val()=="m"){$("#gc-method-e").slideUp().find("input").removeClass("required")}else{$("#gc-method-e").slideDown().find("input").addClass("required")}});$("select#country-list, select.country-list").each(function(){if(typeof county_list=="object"){var f=county_list[$(this).val()];var c=$(this).attr("rel")&&$(this).attr("id")!="country-list"?"#"+$(this).attr("rel"):"#state-list";if(typeof f=="object"){var d=$(c).val();var a=document.createElement("select");$(c).replaceWith($(a).attr({name:$(c).attr("name"),id:$(c).attr("id"),"class":$(c).attr("class")}));if($(this).attr("title")){var b=document.createElement("option");$("select"+c).append($(b).val("0").text($(this).attr("title")))}for(i in f){var b=document.createElement("option");if(d==f[i].name||d==f[i].id){$("select"+c).append($(b).val(f[i].id).text(f[i].name).attr("selected","selected"))}else{$("select"+c).append($(b).val(f[i].id).text(f[i].name))}}}else{if($(this).hasClass("no-custom-zone")){$(c).attr({disabled:"disabled"}).val($(this).attr("title"))}}}}).change(function(){if(typeof county_list=="object"){var g=county_list[$(this).val()];var b=$(this).attr("rel")&&$(this).attr("id")!="country-list"?"#"+$(this).attr("rel"):"#state-list";if(typeof g=="object"&&typeof county_list[$(this).val()]!="undefined"&&county_list[$(this).val()].length>=1){var a=$(b).val();var h=document.createElement("select");$(b).replaceWith($(h).attr({name:$(b).attr("name"),id:$(b).attr("id"),"class":$(b).attr("class")}));if($(this).attr("title")){var d=document.createElement("option");$("select"+b).append($(d).val("0").text($(this).attr("title")))}for(var r=0;r<g.length;r++){var d=document.createElement("option");$("select"+b).append($(d).val(g[r].id).text(g[r].name))}$("select"+b+" > option[value="+a+"]").attr("selected","selected")}else{var c=document.createElement("input");var f=$(c).attr({type:"text",id:$(b).attr("id"),name:$(b).attr("name"),"class":$(b).attr("class")});if($(this).hasClass("no-custom-zone")){$(f).attr("disabled","disabled").val($(this).attr("title"))}$(b).replaceWith($(f))}}});$("input[type=radio].rating").rating({required:true});updateStriping(".list,table,.reorder-list");$("a.preview").click(function(){$("#img-preview").attr("src",$(this).attr("href"));return false});$("a.delete, a.confirm, .submit_confirm, .install_confirm").click(function(){var a=$(this).attr("title");if(a!=""){return confirm(a.replace(/\\n/ig,"\n"))}});$("input:password.strength").pstrength();$("input:password.confirm").confirmPassword();$(".sublist").hide();$(".list-master").click(function(){$("#"+$(this).attr("rel")).toggle()});$(".contentswitch:not(:input)").hide();$(".contentswitch:input").click(function(){var a=$(this).val();$(".contentswitch:not(:input)").hide();$("#"+a+".contentswitch").show()});$("input.contentswitch:radio").attr("checked",false).parent().hide();$("#methods").hide();$(".selector:input").change(function(){$("input.contentswitch:radio").attr("checked",false).parent().hide();$(".contentswitch:not(:input)").hide();var a=$(this).val();if(a!=""){var b=transactions[a].methods.split(",");$("input.contentswitch:radio").each(function(){for(i=0;i<b.length;i++){if(b[i]==$(this).val()){$(this).parent().show();if(b.length==1){$(this).click()}}$(".transaction-amount").val(transactions[a].amount);$("#methods").show()}})}});$(".section-content").hide();$("select.section-select").change(function(){var a=$(this).val();$(".section-content").hide();$("#"+a+".section-content").show()});var l={lensWidth:250,lensHeight:250,link:true,delay:250};$("a.magnify").magnify(l);$("a.gallery").hover(function(){var a=$(this).attr("id");if(typeof gallery_json=="object"){$("a.magnify > img#preview").attr({src:gallery_json[a].medium});$("a.magnify").attr({href:gallery_json[a].source}).unbind().magnify(l)}});$("a.colorbox").colorbox({photo:true,slideshow:true,slideshowAuto:false});$("a.colorbox_iframe").colorbox({iframe:true,width:"80%",height:"80%"});$("a.colorbox_inline").colorbox({inline:true,width:"50%"});$(".login-toggle").each(function(){$(".login-method:not(:first)").slideUp()}).click(function(){if(!$(this).next(".login-method").is(":visible")){$(".login-method:visible").slideUp();$(this).next(".login-method").slideDown()}});if($("div#basket_summary").exists()){$("form.addForm").submit(function(){if(n){return false}var c=$(this).serialize();var a=$(this).attr("action").replace(/\?.*/,"");var b=$("div#basket_summary");var d=a.split("?");if(d.length>1){a+="&"}else{a+="?"}$.ajax({url:a+"_g=ajaxadd",type:"POST",cache:false,data:c,complete:function(f){if(f.responseText.match("Redir")){window.location=f.responseText.substr(6)
}else{b.replaceWith(f.responseText);$("#gui_message").slideUp();$(".animate_basket").effect("shake",{times:4,distance:3},70)}}});return false})}$("#content_body").on("click",".check-primary",function(){var a=$(this).attr("rel");$("#"+a).parent().addClass("selected");$("#"+a+":checkbox").attr("checked","checked")});$("#quickTour").on("click",function(){$("#joyrideTour").joyride()});$("#rule-eu").click(function(){$("#country-region").toggle("slow",function(){})});$("a.colorbox.hostip").colorbox({iframe:true,innerHeight:"100px",innerWidth:"320px"});$("a.colorbox.wiki").bind("cbox_complete",function(){window.scrollTo(0,0)}).colorbox({iframe:true,innerHeight:"450px",innerWidth:"650px"});$("a.colorbox.paypal").colorbox({height:"433px",iframe:true,scrolling:false,width:"602px"});$("a.colorbox.address-form").colorbox({href:"#address-form",inline:true,innerHeight:"400px",innerWidth:"650px"});$("#loading_content").hide();$("div#progress_bar>img.newsletter").each(function(){window.onbeforeunload=function(){return true};ajaxNewsletter($("#newsletter_id").val(),1)});$("input:file.multiple").MultiFile({max:4,namePattern:"$name$i",remove:'<i class="fa fa-trash-o"></i>'});$("textarea.fck").each(function(){if($(this).hasClass("fck-full")){var a={path:"includes/ckeditor/",fullPage:true,toolbar:"CubeCart",selector:"textarea.fck"}}else{var a={path:"includes/ckeditor/",fullPage:false,toolbar:"CubeCart",selector:"textarea.fck"}}$(this).ckeditor(a)});$("div.fm-filelist").each(function(){var a=$("#val_admin_file").text();$(this).fileTree({root:"/",script:"./"+a,group:$(this).attr("rel"),name:$(this).attr("id")})});if(!$("div.tab").exists()){var o=$("div.tab_content:first").show().attr("id");var p="#"+o;$("#tab_"+o).addClass("tab-selected")}$("div.tab").each(function(){if(window.location.hash!==""&&$(window.location.hash).length>0){var a=window.location.hash;var c=a;$("div.tab_content:not("+a+")").hide();$("div.tab_content"+a).show();$("#tab_"+a.replace("#","")).addClass("tab-selected")}else{$("div.tab_content:not(:first)").hide();var a=$("div.tab_content:first").show().attr("id");var c="#"+a;$("#tab_"+a).addClass("tab-selected")}if($("#wikihelp").exists()){var d=$("#wikihelp").attr("href");var b=d.split("#");$("#wikihelp").attr("href",b[0]+c)}$("#previous-tab").val(c);$("input.previous-tab").val(c);window.scrollTo(0,0)}).on("click",function(){var a=$(this).children("a").attr("href");var c=$(a).height();if($("#navigation").height()<c){$("#page_content").height(c+100)}if(a=="#sidebar"){$("#sidebar_control").click();return false}else{if(a.match(/^#/)){document.location.hash=a;$(".tab").removeClass("tab-selected");$(this).addClass("tab-selected");$("div.tab_content").hide();$(a).show();window.scrollTo(0,0);$("#previous-tab").val(a);$("input.previous-tab").val(a);if($("#wikihelp").exists()){var d=$("#wikihelp").attr("href");var b=d.split("#");$("#wikihelp").attr("href",b[0]+a)}return false}}});$("select.select-skin").each(function(){var a=$(this).siblings("select.select-style");var c=$(this).siblings("input[type=hidden].default-style").val();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var d=json_skins[$(this).val()][value];var b=document.createElement("option");$(b).val(value).text(d).addClass("dynamic");if(value==c){$(b).attr("selected","selected")}$(a).append(b)}}else{if($(this).hasClass("no-drop")){$(a).hide()}}$(this).on("change",function(){$(a).children("option.dynamic").remove();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var g=json_skins[$(this).val()][value];var f=document.createElement("option");$(f).val(value).text(g).addClass("dynamic");$(a).append(f)}$(a).show()}else{if($(this).hasClass("no-drop")){$(a).hide()}}})});$("select.select-skin-mobile").each(function(){var a=$(this).siblings("select.select-style-mobile");var c=$(this).siblings("input[type=hidden].default-style-mobile").val();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var d=json_skins[$(this).val()][value];var b=document.createElement("option");$(b).val(value).text(d).addClass("dynamic");if(value==c){$(b).attr("selected","selected")}$(a).append(b)}}else{if($(this).hasClass("no-drop")){$(a).hide()}}$(this).on("change",function(){$(a).children("option.dynamic").remove();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var g=json_skins[$(this).val()][value];var f=document.createElement("option");$(f).val(value).text(g).addClass("dynamic");$(a).append(f)}$(a).show()}else{if($(this).hasClass("no-drop")){$(a).hide()}}})});$("span.editable").each(function(){if($(this).html()==""){$(this).html("<em>null</em>")}});$("span.editable").each(function(){$(this).attr("title","Click to edit")}).on("click",function(){var a=$(this).html();if(a=="<em>null</em>"){a=""}var c=$(this).attr("name");var d=$(this).attr("class");if($(this).hasClass("select")){var b=document.createElement("select");$.each(select_data,function(g,f){$(b).append('<option value="'+g+'">'+f+"</option>")});$(b).children(":contains("+a+")").attr("selected","selected")
}else{var b=document.createElement("input");$(b).attr({type:"text",value:a}).addClass(d)}$(b).addClass("textbox");$(b).attr("name",c);$(this).replaceWith(b)});$(".reorder-list").sortable({axis:"y",handle:"a.handle",opacity:0.7,placeholder:"reorder-position",placeholderElement:"> tr",revert:true,scroll:true,stop:function(a,b){updateStriping()}});$(".revert").each(function(){var a=$(this).attr("rel");if($("#defined_"+a).val()=="0"){$("#row_"+a).addClass("list-changed")}else{if($("#string_"+a).val()!=$("#default_"+a).val()){$("#row_"+a).addClass("custom-phrase")}else{$(this).hide()}}}).on("click",function(){var a=$(this).attr("rel");var b=$("#default_"+a).val();$("#string_"+a).val(b);$("#row_"+a).removeClass("custom-phrase");$(this).hide();return false});$(".editable_phrase").focusout(function(){var a=$(this).attr("rel");if($(this).val()!=$("#default_"+a).val()){$("#row_"+a).addClass("custom-phrase");$("#revert_"+a).show()}else{$("#revert_"+a).hide()}});$("input.ajax").autocomplete({timeout:5000,ajax_get:ajaxSuggest,callback:ajaxSelected});$("select.field_select").each(function(){$(this).find("option:first").attr("selected","selected");$(this).parent().parent().find(".field_select_target:not(:first)").hide();if($(this).attr("id")=="select_group_id"){var a=$("option:selected",$(this)).val();$("#attr_source").attr("name","add_attr["+a+"]");$("#group_target").attr("target","group_"+a)}}).on("change",function(){if($(this).attr("id")=="select_group_id"){var a=$("option:selected",$(this)).val();$("#attr_source").attr("name","add_attr["+a+"]");$("#group_target").attr("target","group_"+a)}$(this).parent().parent().find(".field_select_target").hide();if($(this).val()!=""){var b="#"+$(this).attr("rel")+$(this).val();$(b).show();$("#"+$(b).attr("rel")).show()}});$.datepicker.setDefaults({changeMonth:true,constrainInput:true,dateFormat:"yy-mm-dd",hideIfNoPrevNext:true,onSelect:function(a){var b=a.split("-",3);$(this).nextAll("input.date:first").datepicker("option","minDate",new Date(b[0],b[1]-1,b[2]))},showStatus:false});$("input.date").datepicker();window.scrollTo(0,0);var m=$("#navigation").height();var k=$("#page_content").height();if(m>k){$("#page_content").height(m+100)}$('input[type="checkbox"]').each(function(){if(!$(this).parent().hasClass("custom-checkbox")){$(this).wrap("<div class='custom-checkbox'></div>")}if($(this).is(":checked")){$(this).parent().addClass("selected")}else{$(this).parent().removeClass("selected")}});$("body").on("click","img.checkbox, .check-primary, .check_cat, .check-all, .custom-checkbox",function(){$('input[type="checkbox"]').each(function(){if($(this).is(":checked")){$(this).parent().addClass("selected")}else{$(this).parent().removeClass("selected")}})})});var new_option=0;var data=false;if(!addresses||typeof addresses!="object"){var addresses=new Object}var options_added=0;$("#inventory-list").on("change","select.options_calc",function(){productOptionPrices($(this).parent().attr("rel"))});$("#inventory-list").on("focusout",".text_calc",function(){productOptionPrices($(this).parent().attr("rel"))});var inline_add_offset=0;$('a.add, a.inline-add, input[type="button"].add').on("click",function(){var f=$(this).attr("target");var x=$(this).parents(".inline-add:first");var r=$(x).next(".inline-source");var t=new Array;var n=true;$(".inline-add").removeClass("highlight");$(":input",x).each(function(){$(this).removeClass("required-error");var c=$(this).attr("rel");var b=$(this).val();if($(this).hasClass("not-empty")&&b==$(this).attr("original")){$(this).on("change",function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error")}}).addClass("required-error");n=false}t[c]=b});if(n==false){return false}$(x).removeClass("highlight");if($(r).length==1){var u=$(r).attr("name");var s=$(r).clone(true).attr({name:""}).removeAttr("id").removeClass("inline-source");var a=$("#val_admin_file").text();$(x).find(":input").each(function(){var c=$(this).attr("rel");var b=$(this).val();var g;if($(this).is("select")){var d=$(this).find("option:selected").text()}else{var d=$(this).val()}if(c=="product_id"&&b>0){$.ajax({url:"./"+a,type:"GET",cache:false,data:{_g:"xml",type:"prod_options",q:b,"function":"template"},complete:function(h){g=h.responseText.split("inv[]").join("inv_add["+(inline_add_offset-1)+"]");g=g.split('rel=""').join('rel="'+(inline_add_offset-1)+'"');$(s).find("[rel=product_options]").html(g)}})}else{if(c=="price"){$(s).find(":input[rel="+c+"]").attr("id",inline_add_offset+"_price")}}$(s).find(":input[rel="+c+"]").val(b).attr({name:u+"["+inline_add_offset+"]["+c+"]",original:b});$(s).find("[rel="+c+"]:not(:input)").text(d)});$(x).find(":input").each(function(){$(this).val($(this).attr("original"))})}else{var s=document.createElement("div");var e=document.createElement("span");var l=document.createElement("a");var o=document.createElement("i");if($('input[name="add_div_class"]')){$(s).addClass($('input[name="add_div_class"]').val())}$(o).attr({"class":"fa fa-trash"});$(l).attr({href:"#"}).addClass("remove dynamic").append(o);
$(e).addClass("actions").append(l);$(this).parents("div:first,tr:first").find(".add:input").each(function(){if($(this).hasClass("display")){if($(this).val()==""){n=false}var c=$(this).is("select")?$(this).find(":selected").text():"<strong>"+$(this).val()+"</strong>";$(s).append(c)}if($(this).attr("name")){var b=document.createElement("input");$(b).attr({type:"hidden",name:$(this).attr("name"),value:$(this).val()});$(s).append(b)}$(this).val("")});$(s).prepend(e)}if(n==true&&f.length>1&&$("#"+f).length==1){$("#"+f).append(s)}else{$(x).before(s)}$(".update-subtotal input.number").trigger("change");inline_add_offset++;updateStriping();return false});$("a.duplicate").on("click",function(){var c=$(this).attr("rel");var d=$(this).attr("target").length>=1?$(this).attr("target"):"";$("."+c+":input").each(function(){var a=$("#"+d+$(this).attr("id"));$(a).val($(this).val());if($(this).attr("id")=="sum_country"){$(a).trigger("change")}});return false});$("#search-placeholder").on("click",function(){$("#sidebar_contain").animate({left:"0px"});return false});$("#sidebar_contain").on("mouseleave",function(){$(this).animate({left:"-340px"});return false});$("div#tab_sidebar").on("click",function(){var c=$("#sidebar_contain");var d=c.position();if(d.left==0){c.animate({left:"-340px"})}else{c.animate({left:"0px"})}return false});$(".option-edit").on("click",function(){var c=$(this).attr("rel");var d=$("#data_"+c).val().split("|");$("#opt_assign_id").val(c);$("#opt_mid").val(d[0]);$("#opt_price").val(d[1]);$("#opt_weight").val(d[2]);$("#opt_stock").val(d[3]);$(this).parent().parent().remove()});$("img.toggle-add").on("click",function(){$(this).attr("src",$(this).attr("src").match("add")?"images/icons/delete.png":"images/icons/add.png")});$(".delete_disabled").on("click",function(){alert($(this).attr("title"))});$("input#product_code").on("keyup",function(){if($("input#product_code").val().length>0){$("input#product_code_auto").attr("checked",false)}else{$("input#product_code_auto").attr("checked",true)}});$("input#product_code_auto").on("click",function(){var c=$("input#product_code_old").val();var d=$("input#product_code").val();if(d.length>0){$("input#product_code_old").val(d);$("input#product_code").val("")}else{$("input#product_code").val(c)}});$("#gui_message").on("click",function(){$(this).slideUp()});$("#seo").on("change",function(){var b=$("#val_admin_file").text();if($("#seo").val()==1){seo="seo_code"}else{seo="no_seo_code"}$.getJSON("./"+b,{_g:"xml",type:seo,"function":"get"},function(a){$("#htaccess").val(a.content)})});$("#cat_general").on("change","#cat_name",function(){$("#cat_general").on("click","#cat_save",function(){$("#dialog-seo").dialog({modal:true,buttons:{Yes:function(){$(this).dialog("close");$("#gen_seo").val("1");document.cat_form.submit()},No:function(){$(this).dialog("close");document.cat_form.submit()}}});return false})});$("#cat_general").on("change","#parent",function(){$("#cat_general").on("click","#cat_save",function(){$("#dialog-seo").dialog({modal:true,buttons:{Yes:function(){$(this).dialog("close");$("#gen_seo").val("1");document.cat_form.submit()},No:function(){$(this).dialog("close");document.cat_form.submit()}}});return false})});$("#cat_subset").on("change",function(){$location=document.URL.replace(/&?page=[0-9]/,"");if($location.indexOf("cat_id")!=-1){$location=removeVariableFromURL($location,"cat_id")}if($(this).val()!="any"){$location+="&cat_id="+$(this).val()}window.location.replace($location)});$("select.address-list").on("change",function(){var l=$(this).val();var e=addresses[l];var k=$(this).attr("rel")==""?"sum":$(this).attr("rel");var m=null;var h=k.indexOf(":");if(h>1){m=k.split(":")}for(var n in e){e[n]=jQuery.trim(e[n]);if(m!=null){for(j=0;j<m.length;j++){updateAddressValues(m[j],n,e)}}else{updateAddressValues(k,n,e)}}});$("a.select").on("click",function(){var c=$(this).attr("href");var d=$("#ckfuncnum").val();window.opener.CKEDITOR.tools.callFunction(d,c);window.close();return false});$("#discount_type, .lineprice").on("change",function(){$(".update-subtotal input.number").trigger("change")});$(".update-subtotal input.number").on("change",function(){updateOrderTotals($(this))});$("body").on("click","a.remove",function(){var l=$(this).attr("title");var e=$(this).attr("rel");var k=$(this).attr("href");var m=$(this).attr("name");if(l!=""&&!confirm(l)){return false}if(e&&!$(this).hasClass("dynamic")){var h=document.createElement("input");$(h).attr({type:"hidden",name:m+"[]"}).val(e);$(this).parents("form:first").append(h)}else{pageChanged(this)}if(m=="inv_remove"){$(this).parents("form:first").append('<input type="hidden" name="inv_remove[]" value="'+k.substring(1)+'" />')}if($(this).hasClass("tr")){var n=$(this).parents("tr:first")}else{var n=$(this).parents("tr:first,div:first:not(.tab_content)")}$(n).remove();$(".update-subtotal input.number").trigger("change");return false});$("a.refresh").on("click",function(){$(".update-subtotal input.number").trigger("change");return false
});