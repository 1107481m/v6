function updateStriping(a){$(".list-even,.list-odd").removeClass("list-even list-odd");$(".list,.reorder-list").find(">div,tbody>tr").hover(function(){$(this).addClass("list-hover")},function(){$(this).removeClass("list-hover")});$(".list,.reorder-list").find(">div:nth-child(even),tbody>tr:nth-child(even)").addClass("list-even");$(".list,.reorder-list").find(">div:nth-child(odd),tbody>tr:nth-child(odd)").addClass("list-odd")}function pageChanged(c){var a=$(c).parents("form:first");if(a.length==1){if(a.attr("title")!==undefined){var d=a.attr("title");var b=d.length>1?d:""}if(!a.hasClass("no-change")){window.onbeforeunload=function(){return b}}}}function removeVariableFromURL(c,a){var d=String(c);var b=new RegExp("\\?"+a+"=[^&]*&?","gi");d=d.replace(b,"?");b=new RegExp("\\&"+a+"=[^&]*&?","gi");d=d.replace(b,"&");d=d.replace(/(\?|&)$/,"");b=null;return d}function updateAddressValues(b,a,c){if(a=="country"){$("#"+b+"_"+a+" option").filter(function(){return $(this).html()==c[a]}).first().attr("selected","selected");$("#"+b+"_"+a).trigger("change");if($("#"+b+"_state").get(0).tagName=="INPUT"){$("#"+b+"_state").val(c.state)}else{$("#"+b+"_state option").filter(function(){return $(this).html()==c.state}).attr("selected","selected")}}else{if(a!="state"){$("#"+b+"_"+a).val(c[a])}}}function inlineRemove(f){var b=$(f).attr("title");var h=$(f).attr("rel");var d=$(f).attr("href");var a=$(f).attr("name");if(b!=""&&!confirm(b)){return false}if(h&&!$(f).hasClass("dynamic")){var c=document.createElement("input");$(c).attr({type:"hidden",name:a+"[]"}).val(h);$(f).parents("form:first").append(c)}else{pageChanged(f)}var g=$(f).parents("tr:first,div:first:not(.tab_content)").get(0);$(g).remove();updateStriping();return false}function optionAdd(m,w){var w=$("#"+w);var m=$("#"+m);var g=$("#opt_mid :selected").parent().attr("label");var b=$("#opt_mid :selected").text();var x=typeof g==("undefined"||"")?b:"<strong>"+g+"</strong>: "+b;var d=$("#opt_mid").val();if(d!=""&&d!=0){var v=$(m).clone();$(v).find(".name").append(x).find("input:first").val(d).removeAttr("disabled");var q=$("input.data");for(i=0;i<q.length;i++){var k=$(q[i]).attr("rel");var h=$(q[i]).val()==(null||"")?"0":$(q[i]).val();var p=$(v).find("."+k).find("input:first");if(k=="matrix_include"){p.attr("name","option_add["+k+"]["+options_added+"]")}else{if(k=="set_enabled"){p.removeAttr("disabled");if(h==1){p.parent().addClass("selected");p.attr("checked","checked")}p.attr("name","option_add["+k+"]["+options_added+"]")}else{if(k=="negative"){p.removeAttr("disabled");if($(q[i]).is(":checked")){p.parent().addClass("selected");p.attr("checked","checked")}p.attr("name","option_add["+k+"]["+options_added+"]")}else{h=parseFloat(h,10).toFixed(2);$(v).find("."+k).append(h).find("input:first").val(parseFloat(h)).removeAttr("disabled")}}}$(q[i]).val("")}$(v).find("a.remove").on("click",function(){inlineRemove(this)});$(v).removeAttr("id");$("#opt_mid :selected").removeAttr("selected");$("#opt_mid:first-child").attr("selected","selected");$(w).append($(v));options_added++}return false}function ajaxSelected(c,a,d){var b=$("#val_admin_file").text();$("#result_"+a).val(c.id);switch(d.toLowerCase()){case"user":$.getJSON("./"+b,{_g:"xml",type:"address",q:c.id,"function":"search"},function(g){$("select.address-list>option.temporary").remove();for(var f=0;f<g.length;f++){var h=document.createElement("option");$(h).val(f);$(h).html(g[f].description);$(h).addClass("temporary");$(".address-list").append(h)}addresses=g});break;case"product":$("#add-price").val(c.data.price);$("#add-subtotal").html(($("#add-quantity").val()*c.data.price).toFixed(2));data=c.data;break}for(key in c.data){if(c.data[key]!=""){$("#ajax_"+key).val(c.data[key]).trigger("change")}}if($("#result_"+a).hasClass("clickSubmit")){$("#result_"+a).closest("form").submit()}}function ajaxSuggest(d,b,f){var c="./"+$("#val_admin_file").text();var a={_g:"xml",type:f,q:d,"function":"search"};$.get(c,a,function(h){var k=[];for(var g=0;g<h.length;g++){k.push({id:h[g].value,value:h[g].display,info:h[g].info,data:h[g].data})}b(k)},"json")}function ajaxNewsletter(b,a){var c=$("#val_admin_file").text();$.getJSON("./"+c,{_g:"xml",type:"newsletter",q:b,page:a,"function":"search"},function(d){$("div#progress_bar").css({width:d.percent+"%"});$("div#progress_bar_percent").text(Math.round(d.percent)+"%");if(d.percent==100||d.complete=="true"){window.onbeforeunload=null;window.location="?_g=customers&node=email"}else{ajaxNewsletter(b,a+1)}})}function updateOrderTotals(p){if(!p.hasClass("quantity")){p.val(($(this).val()*1).toFixed(2))}var x=p.parents(".update-subtotal:first");var g=$(x).find("input.quantity").val();var b=$(x).find("input.lineprice").val();var k=$(x).find("input.subtotal:first");var y=(g*b).toFixed(2);$(k).val(y);var d=0;$("input.subtotal").each(function(){var a=$(this).val()*1;d+=a});var w=$("#discount").val();w=w*1;var v=$("#discount_type").val();if(v=="p"){if(w>100){$("#discount").val("100");w=100}w=w/100*d;$("#discount_percent").html("%")
}else{$("#discount_percent").html("")}$("#subtotal").val(d.toFixed(2));var m=$("#shipping").val();var h=0;$(".update-subtotal input.tax").each(function(){var a=$(this).val();h+=a*1});var q=d*1-w+m*1+h*1;$("#total_tax").val(h.toFixed(2));$("#total").val(q.toFixed(2))}function productOptionPrices(c){var a=$("#"+c+"_price");var d=+a.attr("original");var b="";$("span[rel="+c+"] select").each(function(){option_price=$(this).find("option:selected").attr("rel");if(option_price){b=option_price.substr(0,1);value=+option_price.substr(1);if(value>0){if(b=="+"){d=+d+ +value}else{if(b=="-"){d=+d-+value}}}}});$("span[rel="+c+"] input, span[rel="+c+"] textarea").each(function(){var g=$(this).val();var f=$(this).attr("rel");if(g!=""){if(f){b=f.substr(0,1);value=+f.substr(1);if(value>0){if(b=="+"){d=+d+ +value}else{if(b=="-"){d=+d-+value}}}}}});a.val(d.toFixed(2));$(".update-subtotal input.number").trigger("change");return false}$(window).load(function(){$("html, body").animate({scrollTop:0},0)});$(document).ready(function(){var f=false;jQuery.debug=function(k){if(window.console){console.debug("CubeCart: "+k)}else{alert(k)}};jQuery.fn.insertAtCaret=function(k){return this.each(function(){if(document.selection){this.focus();sel=document.selection.createRange();sel.text=k;this.focus()}else{if(this.selectionStart||this.selectionStart=="0"){var e=this.selectionStart;var m=this.selectionEnd;var l=this.scrollTop;this.value=this.value.substring(0,e)+k+this.value.substring(m,this.value.length);this.focus();this.selectionStart=e+k.length;this.selectionEnd=e+k.length;this.scrollTop=l}else{this.value+=k;this.focus()}}})};jQuery.fn.confirmPassword=function(l){var k=jQuery.extend({updateOn:"keyup"},l);this.bind(k.updateOn,function(){jQuery(this).removeClass("ps-match ps-nomatch error");if(jQuery(this).val()!=""){var m=jQuery(this).attr("rel");if(jQuery("#"+m).val()===jQuery(this).val()&&jQuery(this).val()!=""){jQuery(this).addClass("ps-match")}else{jQuery(this).addClass("ps-nomatch error")}}})};jQuery.fn.exists=function(){return jQuery(this).length!=0};if(top.location.href!=self.location.href){top.location=self.location.href}$("input:text,input:password,textarea").each(function(){var k=$(this).attr("title");if(typeof k!="undefined"&&k.length>=1){if($(this).val()==""){$(this).val(k)}$(this).focus(function(){if($(this).val()==k){$(this).val("")}}).blur(function(){if($(this).val()==""){$(this).val(k)}}).parents("form:first").submit(function(){$("input:text,input:password,textarea",this).each(function(){if($(this).val()==k){$(this).val("")}})})}});$(":input, :input:hidden").each(function(){if(!$(this).hasClass("original-fix")){$(this).attr("original",$(this).val())}}).change(function(){pageChanged(this)});$("input:submit.update").click(function(){$("select.required").removeClass("required")});$("select.update_form").change(function(){$("input.required").removeClass("required");$(this).parents("form").submit()});$("form").submit(function(){var k=true;f=false;if($("#inventory-list").exists()&&!$("input[name*=inv]").exists()){$(".inline-add:first").addClass("highlight");return false}$(".required-error").removeClass("required-error");$(":checkbox.ignore").each(function(){if($(this).not(":checked")){$(this).attr("disabled","disabled")}});var m=$("div.tab_content").exists()?$("div.tab_content:visible"):$(this);$(m).find(".required:input:not(:hidden)").each(function(){var p=$(this).val();var q=$(this).attr("original");if(p.replace(/\s/i,"")==""){var o=$(this).attr("id");$(this).addClass("required-error").change(function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error");$("#error_"+o+".error").hide("fast")}});$("#error_"+o+".error").show("fast");k=false}});$(".inline-add:input").each(function(){var n=$(this).hasClass("not-empty");if($(this).val()!=$(this).attr("original")){$(this).parents(".inline-add:first").addClass("highlight");k=false}});$(m).find("select.required:not(:hidden)").each(function(){if($(this).val()==0){var n=$(this).attr("id");$(this).addClass("required-error").change(function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error");$("#error_"+n+".error").hide("fast")}});$("#error_"+n+".error").show("fast");k=false}});if(k){window.onbeforeunload=null;return true}else{var l=$(".required-error:first");var e=l.position();$("html, body").animate({scrollTop:e.top-50},"slow")}f=true;return false});$(".check-all").click(function(l){if($(this).is("a")){l.preventDefault()}var k=$(this).attr("rel");var m=$("input[type=checkbox]."+k);m.prop("checked",!m.prop("checked"))});$("select.auto_submit").each(function(){if(!$(this).hasClass("show_submit")){$(this).parents("form:first").find("input:submit").hide()}}).change(function(){$(this).parents("form:first").submit()});$(".insert-text").on("click",function(){var l="#"+$(this).attr("target");var k=$(this).text();$(l).insertAtCaret(k);return false});$("img.autosubmit").each(function(){if($(this).hasClass("form-name")){var k=$(this).attr("rel");
$("form#"+k).submit()}else{$(this).parents("form").submit()}});$(".duplicate").click(function(){var k=$(this).attr("rel")});if(typeof gui_message_json!="undefined"&&typeof gui_message_json=="object"){for(var b in gui_message_json){$("#"+b).addClass("required-error").val("")}}$(":input.required").blur(function(){var k=$(this).attr("id");if($(this).val().replace(/\s/i,"")==""){$(this).addClass("required-error")}else{$(this).removeClass("required-error")}});$("select.certificate-delivery").change(function(){if($(this).val()=="m"){$("#gc-method-e").slideUp().find("input").removeClass("required")}else{$("#gc-method-e").slideDown().find("input").addClass("required")}});$("select#country-list, select.country-list").each(function(){if(typeof county_list=="object"){var o=county_list[$(this).val()];var k=$(this).attr("rel")&&$(this).attr("id")!="country-list"?"#"+$(this).attr("rel"):"#state-list";if(typeof o=="object"){var p=$(k).val();var m=document.createElement("select");$(k).replaceWith($(m).attr({name:$(k).attr("name"),id:$(k).attr("id"),"class":$(k).attr("class")}));if($(this).attr("title")){var l=document.createElement("option");$("select"+k).append($(l).val("0").text($(this).attr("title")))}for(i in o){var l=document.createElement("option");if(p==o[i].name||p==o[i].id){$("select"+k).append($(l).val(o[i].id).text(o[i].name).attr("selected","selected"))}else{$("select"+k).append($(l).val(o[i].id).text(o[i].name))}}}else{if($(this).hasClass("no-custom-zone")){$(k).attr({disabled:"disabled"}).val($(this).attr("title"))}}}}).change(function(){if(typeof county_list=="object"){var v=county_list[$(this).val()];var m=$(this).attr("rel")&&$(this).attr("id")!="country-list"?"#"+$(this).attr("rel"):"#state-list";if(typeof v=="object"&&typeof county_list[$(this).val()]!="undefined"&&county_list[$(this).val()].length>=1){var x=$(m).val();var q=document.createElement("select");$(m).replaceWith($(q).attr({name:$(m).attr("name"),id:$(m).attr("id"),"class":$(m).attr("class")}));if($(this).attr("title")){var l=document.createElement("option");$("select"+m).append($(l).val("0").text($(this).attr("title")))}for(var p=0;p<v.length;p++){var l=document.createElement("option");$("select"+m).append($(l).val(v[p].id).text(v[p].name))}$("select"+m+" > option[value="+x+"]").attr("selected","selected")}else{var w=document.createElement("input");var k=$(w).attr({type:"text",id:$(m).attr("id"),name:$(m).attr("name"),"class":$(m).attr("class")});if($(this).hasClass("no-custom-zone")){$(k).attr("disabled","disabled").val($(this).attr("title"))}$(m).replaceWith($(k))}}});$("input[type=radio].rating").rating({required:true});updateStriping(".list,table,.reorder-list");$("a.preview").click(function(){$("#img-preview").attr("src",$(this).attr("href"));return false});$("a.delete, a.confirm, .submit_confirm, .install_confirm").click(function(){var k=$(this).attr("title");if(k!=""){return confirm(k.replace(/\\n/ig,"\n"))}});$("input:password.strength").pstrength();$("input:password.confirm").confirmPassword();$(".sublist").hide();$(".list-master").click(function(){$("#"+$(this).attr("rel")).toggle()});$(".contentswitch:not(:input)").hide();$(".contentswitch:input").click(function(){var k=$(this).val();$(".contentswitch:not(:input)").hide();$("#"+k+".contentswitch").show()});$("input.contentswitch:radio").attr("checked",false).parent().hide();$("#methods").hide();$(".selector:input").change(function(){$("input.contentswitch:radio").attr("checked",false).parent().hide();$(".contentswitch:not(:input)").hide();var l=$(this).val();if(l!=""){var k=transactions[l].methods.split(",");$("input.contentswitch:radio").each(function(){for(i=0;i<k.length;i++){if(k[i]==$(this).val()){$(this).parent().show();if(k.length==1){$(this).click()}}$(".transaction-amount").val(transactions[l].amount);$("#methods").show()}})}});$(".section-content").hide();$("select.section-select").change(function(){var k=$(this).val();$(".section-content").hide();$("#"+k+".section-content").show()});var h={lensWidth:250,lensHeight:250,link:true,delay:250};$("a.magnify").magnify(h);$("a.gallery").hover(function(){var k=$(this).attr("id");if(typeof gallery_json=="object"){$("a.magnify > img#preview").attr({src:gallery_json[k].medium});$("a.magnify").attr({href:gallery_json[k].source}).unbind().magnify(h)}});$("a.colorbox").colorbox({photo:true,slideshow:true,slideshowAuto:false});$("a.colorbox_iframe").colorbox({iframe:true,width:"80%",height:"80%"});$("a.colorbox_inline").colorbox({inline:true,width:"50%"});$(".login-toggle").each(function(){$(".login-method:not(:first)").slideUp()}).click(function(){if(!$(this).next(".login-method").is(":visible")){$(".login-method:visible").slideUp();$(this).next(".login-method").slideDown()}});if($("div#basket_summary").exists()){$("form.addForm").submit(function(){if(f){return false}var k=$(this).serialize();var m=$(this).attr("action").replace(/\?.*/,"");var l=$("div#basket_summary");var e=m.split("?");if(e.length>1){m+="&"}else{m+="?"}$.ajax({url:m+"_g=ajaxadd",type:"POST",cache:false,data:k,complete:function(n){if(n.responseText.match("Redir")){window.location=n.responseText.substr(6)
}else{l.replaceWith(n.responseText);$("#gui_message").slideUp();$(".animate_basket").effect("shake",{times:4,distance:3},70)}}});return false})}$("#content_body").on("click",".check-primary",function(){var k=$(this).attr("rel");$("#"+k).parent().addClass("selected");$("#"+k+":checkbox").attr("checked","checked")});$("#quickTour").on("click",function(){$("#joyrideTour").joyride()});$("#rule-eu").click(function(){$("#country-region").toggle("slow",function(){})});$("a.colorbox.hostip").colorbox({iframe:true,innerHeight:"100px",innerWidth:"320px"});$("a.colorbox.wiki").bind("cbox_complete",function(){window.scrollTo(0,0)}).colorbox({iframe:true,innerHeight:"450px",innerWidth:"650px"});$("a.colorbox.paypal").colorbox({height:"433px",iframe:true,scrolling:false,width:"602px"});$("a.colorbox.address-form").colorbox({href:"#address-form",inline:true,innerHeight:"400px",innerWidth:"650px"});$("#loading_content").hide();$("div#progress_bar>img.newsletter").each(function(){window.onbeforeunload=function(){return true};ajaxNewsletter($("#newsletter_id").val(),1)});$("input:file.multiple").MultiFile({max:4,namePattern:"$name$i",remove:'<i class="fa fa-trash-o"></i>'});$("textarea.fck").each(function(){if($(this).hasClass("fck-full")){var k={path:"includes/ckeditor/",fullPage:true,toolbar:"CubeCart",selector:"textarea.fck"}}else{var k={path:"includes/ckeditor/",fullPage:false,toolbar:"CubeCart",selector:"textarea.fck"}}$(this).ckeditor(k)});$("div.fm-filelist").each(function(){var k=$("#val_admin_file").text();$(this).fileTree({root:"/",script:"./"+k,group:$(this).attr("rel"),name:$(this).attr("id")})});if(!$("div.tab").exists()){var d=$("div.tab_content:first").show().attr("id");var c="#"+d;$("#tab_"+d).addClass("tab-selected")}$("div.tab").each(function(){if(window.location.hash!==""&&$(window.location.hash).length>0){var m=window.location.hash;var k=m;$("div.tab_content:not("+m+")").hide();$("div.tab_content"+m).show();$("#tab_"+m.replace("#","")).addClass("tab-selected")}else{$("div.tab_content:not(:first)").hide();var m=$("div.tab_content:first").show().attr("id");var k="#"+m;$("#tab_"+m).addClass("tab-selected")}if($("#wikihelp").exists()){var o=$("#wikihelp").attr("href");var l=o.split("#");$("#wikihelp").attr("href",l[0]+k)}$("#previous-tab").val(k);$("input.previous-tab").val(k);window.scrollTo(0,0)}).on("click",function(){var m=$(this).children("a").attr("href");var k=$(m).height();if($("#navigation").height()<k){$("#page_content").height(k+100)}if(m=="#sidebar"){$("#sidebar_control").click();return false}else{if(m.match(/^#/)){document.location.hash=m;$(".tab").removeClass("tab-selected");$(this).addClass("tab-selected");$("div.tab_content").hide();$(m).show();window.scrollTo(0,0);$("#previous-tab").val(m);$("input.previous-tab").val(m);if($("#wikihelp").exists()){var o=$("#wikihelp").attr("href");var l=o.split("#");$("#wikihelp").attr("href",l[0]+m)}return false}}});$("select.select-skin").each(function(){var m=$(this).siblings("select.select-style");var k=$(this).siblings("input[type=hidden].default-style").val();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var o=json_skins[$(this).val()][value];var l=document.createElement("option");$(l).val(value).text(o).addClass("dynamic");if(value==k){$(l).attr("selected","selected")}$(m).append(l)}}else{if($(this).hasClass("no-drop")){$(m).hide()}}$(this).on("change",function(){$(m).children("option.dynamic").remove();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var e=json_skins[$(this).val()][value];var p=document.createElement("option");$(p).val(value).text(e).addClass("dynamic");$(m).append(p)}$(m).show()}else{if($(this).hasClass("no-drop")){$(m).hide()}}})});$("select.select-skin-mobile").each(function(){var m=$(this).siblings("select.select-style-mobile");var k=$(this).siblings("input[type=hidden].default-style-mobile").val();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var o=json_skins[$(this).val()][value];var l=document.createElement("option");$(l).val(value).text(o).addClass("dynamic");if(value==k){$(l).attr("selected","selected")}$(m).append(l)}}else{if($(this).hasClass("no-drop")){$(m).hide()}}$(this).on("change",function(){$(m).children("option.dynamic").remove();if(json_skins[$(this).val()]){for(value in json_skins[$(this).val()]){var e=json_skins[$(this).val()][value];var p=document.createElement("option");$(p).val(value).text(e).addClass("dynamic");$(m).append(p)}$(m).show()}else{if($(this).hasClass("no-drop")){$(m).hide()}}})});$("span.editable").each(function(){if($(this).html()==""){$(this).html("<em>null</em>")}});$("span.editable").each(function(){$(this).attr("title","Click to edit")}).on("click",function(){var m=$(this).html();if(m=="<em>null</em>"){m=""}var k=$(this).attr("name");var o=$(this).attr("class");if($(this).hasClass("select")){var l=document.createElement("select");$.each(select_data,function(n,e){$(l).append('<option value="'+n+'">'+e+"</option>")});$(l).children(":contains("+m+")").attr("selected","selected")
}else{var l=document.createElement("input");$(l).attr({type:"text",value:m}).addClass(o)}$(l).addClass("textbox");$(l).attr("name",k);$(this).replaceWith(l)});$(".reorder-list").sortable({axis:"y",handle:"a.handle",opacity:0.7,placeholder:"reorder-position",placeholderElement:"> tr",revert:true,scroll:true,stop:function(l,k){updateStriping()}});$(".revert").each(function(){var k=$(this).attr("rel");if($("#defined_"+k).val()=="0"){$("#row_"+k).addClass("list-changed")}else{if($("#string_"+k).val()!=$("#default_"+k).val()){$("#row_"+k).addClass("custom-phrase")}else{$(this).hide()}}}).on("click",function(){var l=$(this).attr("rel");var k=$("#default_"+l).val();$("#string_"+l).val(k);$("#row_"+l).removeClass("custom-phrase");$(this).hide();return false});$(".editable_phrase").focusout(function(){var k=$(this).attr("rel");if($(this).val()!=$("#default_"+k).val()){$("#row_"+k).addClass("custom-phrase");$("#revert_"+k).show()}else{$("#revert_"+k).hide()}});$("input.ajax").autocomplete({timeout:5000,ajax_get:ajaxSuggest,callback:ajaxSelected});$("select.field_select").each(function(){$(this).find("option:first").attr("selected","selected");$(this).parent().parent().find(".field_select_target:not(:first)").hide();if($(this).attr("id")=="select_group_id"){var k=$("option:selected",$(this)).val();$("#attr_source").attr("name","add_attr["+k+"]");$("#group_target").attr("target","group_"+k)}}).on("change",function(){if($(this).attr("id")=="select_group_id"){var l=$("option:selected",$(this)).val();$("#attr_source").attr("name","add_attr["+l+"]");$("#group_target").attr("target","group_"+l)}$(this).parent().parent().find(".field_select_target").hide();if($(this).val()!=""){var k="#"+$(this).attr("rel")+$(this).val();$(k).show();$("#"+$(k).attr("rel")).show()}});$.datepicker.setDefaults({changeMonth:true,constrainInput:true,dateFormat:"yy-mm-dd",hideIfNoPrevNext:true,onSelect:function(l){var k=l.split("-",3);$(this).nextAll("input.date:first").datepicker("option","minDate",new Date(k[0],k[1]-1,k[2]))},showStatus:false});$("input.date").datepicker();window.scrollTo(0,0);var g=$("#navigation").height();var a=$("#page_content").height();if(g>a){$("#page_content").height(g+100)}$('input[type="checkbox"]').each(function(){if(!$(this).parent().hasClass("custom-checkbox")){$(this).wrap("<div class='custom-checkbox'></div>")}if($(this).is(":checked")){$(this).parent().addClass("selected")}else{$(this).parent().removeClass("selected")}});$("body").on("click","img.checkbox, .check-primary, .check_cat, .check-all, .custom-checkbox",function(){$('input[type="checkbox"]').each(function(){if($(this).is(":checked")){$(this).parent().addClass("selected")}else{$(this).parent().removeClass("selected")}})})});var new_option=0;var data=false;if(!addresses||typeof addresses!="object"){var addresses=new Object}var options_added=0;$("#inventory-list").on("change","select.options_calc",function(){productOptionPrices($(this).parent().attr("rel"))});$("#inventory-list").on("focusout",".text_calc",function(){productOptionPrices($(this).parent().attr("rel"))});var inline_add_offset=0;$('a.add, a.inline-add, input[type="button"].add').on("click",function(){var m=$(this).attr("target");var v=$(this).parents(".inline-add:first");var d=$(v).next(".inline-source");var b=new Array;var h=true;$(".inline-add").removeClass("highlight");$(":input",v).each(function(){$(this).removeClass("required-error");var f=$(this).attr("rel");var a=$(this).val();if($(this).hasClass("not-empty")&&a==$(this).attr("original")){$(this).on("change",function(){if($(this).val()!=$(this).attr("original")){$(this).removeClass("required-error")}}).addClass("required-error");h=false}b[f]=a});if(h==false){return false}$(v).removeClass("highlight");if($(d).length==1){var w=$(d).attr("name");var c=$(d).clone(true).attr({name:""}).removeAttr("id").removeClass("inline-source");var q=$("#val_admin_file").text();$(v).find(":input").each(function(){var l=$(this).attr("rel");var a=$(this).val();var o;if($(this).is("select")){var f=$(this).find("option:selected").text()}else{var f=$(this).val()}if(l=="product_id"&&a>0){$.ajax({url:"./"+q,type:"GET",cache:false,data:{_g:"xml",type:"prod_options",q:a,"function":"template"},complete:function(n){o=n.responseText.split("inv[]").join("inv_add["+(inline_add_offset-1)+"]");o=o.split('rel=""').join('rel="'+(inline_add_offset-1)+'"');$(c).find("[rel=product_options]").html(o)}})}else{if(l=="price"){$(c).find(":input[rel="+l+"]").attr("id",inline_add_offset+"_price")}}$(c).find(":input[rel="+l+"]").val(a).attr({name:w+"["+inline_add_offset+"]["+l+"]",original:a});$(c).find("[rel="+l+"]:not(:input)").text(f)});$(v).find(":input").each(function(){$(this).val($(this).attr("original"))})}else{var c=document.createElement("div");var p=document.createElement("span");var k=document.createElement("a");var g=document.createElement("i");if($('input[name="add_div_class"]')){$(c).addClass($('input[name="add_div_class"]').val())}$(g).attr({"class":"fa fa-trash"});$(k).attr({href:"#"}).addClass("remove dynamic").append(g);
$(p).addClass("actions").append(k);$(this).parents("div:first,tr:first").find(".add:input").each(function(){if($(this).hasClass("display")){if($(this).val()==""){h=false}var f=$(this).is("select")?$(this).find(":selected").text():"<strong>"+$(this).val()+"</strong>";$(c).append(f)}if($(this).attr("name")){var a=document.createElement("input");$(a).attr({type:"hidden",name:$(this).attr("name"),value:$(this).val()});$(c).append(a)}$(this).val("")});$(c).prepend(p)}if(h==true&&m.length>1&&$("#"+m).length==1){$("#"+m).append(c)}else{$(v).before(c)}$(".update-subtotal input.number").trigger("change");inline_add_offset++;updateStriping();return false});$("a.duplicate").on("click",function(){var b=$(this).attr("rel");var a=$(this).attr("target").length>=1?$(this).attr("target"):"";$("."+b+":input").each(function(){var c=$("#"+a+$(this).attr("id"));$(c).val($(this).val());if($(this).attr("id")=="sum_country"){$(c).trigger("change")}});return false});$("#search-placeholder").on("click",function(){$("#sidebar_contain").animate({left:"0px"});return false});$("#sidebar_contain").on("mouseleave",function(){$(this).animate({left:"-340px"});return false});$("div#tab_sidebar").on("click",function(){var b=$("#sidebar_contain");var a=b.position();if(a.left==0){b.animate({left:"-340px"})}else{b.animate({left:"0px"})}return false});$(".option-edit").on("click",function(){var b=$(this).attr("rel");var a=$("#data_"+b).val().split("|");$("#opt_assign_id").val(b);$("#opt_mid").val(a[0]);$("#opt_price").val(a[1]);$("#opt_weight").val(a[2]);$("#opt_stock").val(a[3]);$(this).parent().parent().remove()});$("img.toggle-add").on("click",function(){$(this).attr("src",$(this).attr("src").match("add")?"images/icons/delete.png":"images/icons/add.png")});$(".delete_disabled").on("click",function(){alert($(this).attr("title"))});$("input#product_code").on("keyup",function(){if($("input#product_code").val().length>0){$("input#product_code_auto").attr("checked",false)}else{$("input#product_code_auto").attr("checked",true)}});$("input#product_code_auto").on("click",function(){var b=$("input#product_code_old").val();var a=$("input#product_code").val();if(a.length>0){$("input#product_code_old").val(a);$("input#product_code").val("")}else{$("input#product_code").val(b)}});$("#gui_message").on("click",function(){$(this).slideUp()});$("#seo").on("change",function(){var a=$("#val_admin_file").text();if($("#seo").val()==1){seo="seo_code"}else{seo="no_seo_code"}$.getJSON("./"+a,{_g:"xml",type:seo,"function":"get"},function(b){$("#htaccess").val(b.content)})});$("#cat_general").on("change","#cat_name",function(){$("#cat_general").on("click","#cat_save",function(){$("#dialog-seo").dialog({modal:true,buttons:{Yes:function(){$(this).dialog("close");$("#gen_seo").val("1");document.cat_form.submit()},No:function(){$(this).dialog("close");document.cat_form.submit()}}});return false})});$("#cat_general").on("change","#parent",function(){$("#cat_general").on("click","#cat_save",function(){$("#dialog-seo").dialog({modal:true,buttons:{Yes:function(){$(this).dialog("close");$("#gen_seo").val("1");document.cat_form.submit()},No:function(){$(this).dialog("close");document.cat_form.submit()}}});return false})});$("#cat_subset").on("change",function(){$location=document.URL.replace(/&?page=[0-9]/,"");if($location.indexOf("cat_id")!=-1){$location=removeVariableFromURL($location,"cat_id")}if($(this).val()!="any"){$location+="&cat_id="+$(this).val()}window.location.replace($location)});$("select.address-list").on("change",function(){var f=$(this).val();var b=addresses[f];var g=$(this).attr("rel")==""?"sum":$(this).attr("rel");var d=null;var a=g.indexOf(":");if(a>1){d=g.split(":")}for(var c in b){b[c]=jQuery.trim(b[c]);if(d!=null){for(j=0;j<d.length;j++){updateAddressValues(d[j],c,b)}}else{updateAddressValues(g,c,b)}}});$("a.select").on("click",function(){var b=$(this).attr("href");var a=$("#ckfuncnum").val();window.opener.CKEDITOR.tools.callFunction(a,b);window.close();return false});$("#discount_type, .lineprice").on("change",function(){$(".update-subtotal input.number").trigger("change")});$(".update-subtotal input.number").on("change",function(){updateOrderTotals($(this))});$("body").on("click","a.remove",function(){var f=$(this).attr("title");var b=$(this).attr("rel");var g=$(this).attr("href");var d=$(this).attr("name");if(f!=""&&!confirm(f)){return false}if(b&&!$(this).hasClass("dynamic")){var a=document.createElement("input");$(a).attr({type:"hidden",name:d+"[]"}).val(b);$(this).parents("form:first").append(a)}else{pageChanged(this)}if(d=="inv_remove"){$(this).parents("form:first").append('<input type="hidden" name="inv_remove[]" value="'+g.substring(1)+'" />')}if($(this).hasClass("tr")){var c=$(this).parents("tr:first")}else{var c=$(this).parents("tr:first,div:first:not(.tab_content)")}$(c).remove();$(".update-subtotal input.number").trigger("change");return false});$("a.refresh").on("click",function(){$(".update-subtotal input.number").trigger("change");return false
});